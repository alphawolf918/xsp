(function($){$.fn.create=function(prop){var opt=$.extend({file:prop,root:"parent",},prop);return this.each(function(){create(opt.file,opt.root);});function create(f,r){runXSP('create '+f+' with root('+r+');');}return this;},$.fn.select=function(f,prop){var t=(prop=="")?"/":prop;var opt=$.extend({file:f,path:t,where:"",},prop);return this.each(function(){select(opt.file,opt.path,opt.where);});function select(file,path,where){var pathStr='select '+path+' from '+file;if(where!=""){pathStr+=' where '+where;}pathStr+=';';runXSP(pathStr);}return this;},$.fn.delete=function(prop){var opt=$.extend({file:prop,},prop);return this.each(function(){xspDelete(opt.file);});function xspDelete(f){runXSP('if exists('+f+') then {delete '+f+'};');}return this;};})(jQuery);function runXSP(str){var selector='#xsp';$.ajax({type:"POST",url:"runXSP.php",data:"q="+str+"&n=1",complete:function(data){var html=($(selector).html()!="")?$(selector).html()+"<br />":"";$(selector).html(html+data.responseText);}});}